<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>Cypresswood – Mobile Scorecard</title>
  <link rel="stylesheet" href="styles.css" />

  <!-- html2canvas for "Save as Image" -->
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
<body>
  <header class="topbar">
    <div class="topbar__left">
      <div class="title">Scorecard</div>
      <div class="subtitle">18 holes • 6 players • gross</div>
    </div>
    <div class="topbar__right">
      <button id="toggleSettingsBtn" class="btn btn--ghost">Align</button>
      <button id="saveBtn" class="btn btn--primary">Save Image</button>
    </div>
  </header>

  <main class="wrap">
    <!-- This is the export area (background image + overlay values) -->
    <section id="exportArea" class="card">
      <div id="scorecardStage" class="stage">
        <img id="bg" class="bg" src="scorecard.jpg" alt="Scorecard background" />
        <!-- Inputs overlay -->
        <div id="overlay" class="overlay" aria-label="Score inputs overlay"></div>
      </div>
    </section>

    <!-- Settings / alignment panel -->
    <section id="settingsPanel" class="settings hidden">
      <div class="settings__header">
        <div>
          <div class="settings__title">Alignment</div>
          <div class="settings__hint">
            Use sliders to line up the tap boxes exactly on the blank grid.
          </div>
        </div>
        <button id="closeSettingsBtn" class="btn btn--ghost">Close</button>
      </div>

      <div class="grid2">
        <div class="control">
          <label>Grid Start X (%)</label>
          <input id="startX" type="range" min="0" max="100" step="0.05" />
          <div class="val" id="startXVal"></div>
        </div>

        <div class="control">
          <label>Grid Start Y (%)</label>
          <input id="startY" type="range" min="0" max="100" step="0.05" />
          <div class="val" id="startYVal"></div>
        </div>

        <div class="control">
          <label>Cell Width (%)</label>
          <input id="cellW" type="range" min="0.5" max="20" step="0.05" />
          <div class="val" id="cellWVal"></div>
        </div>

        <div class="control">
          <label>Cell Height (%)</label>
          <input id="cellH" type="range" min="0.5" max="20" step="0.05" />
          <div class="val" id="cellHVal"></div>
        </div>

        <div class="control">
          <label>Column Gap (%)</label>
          <input id="colGap" type="range" min="0" max="5" step="0.02" />
          <div class="val" id="colGapVal"></div>
        </div>

        <div class="control">
          <label>Row Gap (%)</label>
          <input id="rowGap" type="range" min="0" max="5" step="0.02" />
          <div class="val" id="rowGapVal"></div>
        </div>
      </div>

      <div class="settings__footer">
        <button id="toggleBoxesBtn" class="btn btn--ghost">Toggle Box Borders</button>
        <button id="copyBoxMapBtn" class="btn btn--ghost">Copy box_map JSON</button>
        <button id="resetBtn" class="btn">Reset</button>
      </div>

      <textarea id="boxMapOutput" class="boxmap" readonly></textarea>
    </section>
  </main>

  <footer class="footer">
    Tip: After saving, tap the image → Share → <b>Save Image</b> (Photos).
  </footer>

  <script src="app.js"></script>
</body>
</html>
